<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Minimal PWA</title>
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" type="text/css" href="main.css" />
    <link rel="icon" href="/e.png" type="image/png" />
  </head>
  <body>
    <div id="some-element-you-want-to-animate"></div>
    <script>
      // requestIdleCallback(myNonEssentialWork, { timeout: 2000 });
      // // 任务队列
      // const tasks = [
      //   () => {
      //     console.log("第一个任务");
      //   },
      //   () => {
      //     console.log("第二个任务");
      //   },
      //   () => {
      //     console.log("第三个任务");
      //   },
      // ];
      // function myNonEssentialWork(deadline) {
      //   console.log(deadline,deadline.timeRemaining());
      //   // 如果帧内有富余的时间，或者超时
      //   while (
      //     (deadline.timeRemaining() > 0 || deadline.didTimeout) &&
      //     tasks.length > 0
      //   ) {
      //     work();
      //   }
      //   if (tasks.length > 0) requestIdleCallback(myNonEssentialWork);
      // }
      // function work() {
      //   tasks.shift()();
      //   console.log("执行任务");
      // }

      // 
      // const element = document.getElementById(
      //   "some-element-you-want-to-animate"
      // );
      // let start;

      // function step(timestamp) {
      //   console.log(timestamp)
      //   if (start === undefined) start = timestamp;
      //   const elapsed = timestamp - start;

      //   //这里使用`Math.min()`确保元素刚好停在200px的位置。
      //   element.style.transform =
      //     "translateX(" + Math.min(0.2 * elapsed, 200) + "px)";

      //   if (elapsed < 2000) {
      //     // 在两秒后停止动画
      //     window.requestAnimationFrame(step);
      //   }
      // }

      // window.requestAnimationFrame(step);
    </script>
  </body>
</html>
